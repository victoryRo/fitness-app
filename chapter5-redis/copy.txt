var (
	Version string = strings.TrimSpace(version)
	//go:embed version/version.txt
	version string

	//go:embed static
	staticEmbed embed.FS

	//go:embed css/*
	cssEmbed embed.FS

	//go:embed tmpl/*.html
	tmplEmbed embed.FS

	dbQuery *chapter5.Queries

	store *rstore.RedisStore
)

//renderFiles renders file and push data (d) into the templates to be rendered
func renderFiles(tmpl string, w http.ResponseWriter, d interface{}) {
	t, err := template.ParseFS(tmplEmbed, fmt.Sprintf("tmpl/%s.html", tmpl))
	if err != nil {
		log.Fatal(err)
	}

	if err := t.Execute(w, d); err != nil {
		log.Fatal(err)
	}
}